{"name":"OpenERP Lib","body":"openerplib es una librería para PHP que permite realizar operaciones xml-rpc con [OpenERP](http://www.openerp.com/)\r\ncómodamente.\r\n\r\nEstá inspirada en ORM de [Django](https://www.djangoproject.com/)\r\n\r\n## Requeriments\r\n\r\nopenerlib depende de:\r\n\r\n* xmlrpc.inc >= 1.174 http://phpxmlrpc.sourceforge.net/ (incluida)\r\n\r\n## Installation\r\n\r\nNo requiere ningún tipo de instalación especial. Copiar directorio /openerplib \r\ndonde ser quiera utilizar e importar a tu script php.\r\n\r\n## Configuration\r\n\r\nDos forma de uso.\r\n\r\n### Configurar fichero /openerplib/openerplib.inc.php\r\n\r\n```php\r\n<?php\r\n\tdefine('_OPENERPLIB_BD_', '');\r\n\tdefine('_OPENERPLIB_UID_', 0);\r\n\tdefine('_OPENERPLIB_PASSWD_', '');\r\n\tdefine('_OPENERPLIB_URL_', 'http://<URL>/xmlrpc');\r\n?>\r\n```\r\n\r\n### Configuración on-live.\r\n\r\n```php\r\n<?php\r\n\t$config = array(\r\n\t\t'bd'        => 'mybdname',\r\n\t\t'uid'       => 1212,\r\n\t\t'passwd'    => 'foo',\r\n\t\t'url'       => 'http://openerp/xmlrpc',\r\n\t);\r\n\t\r\n\t$open = new OpenERP($config);\r\n?>\r\n```\r\n\r\n## Usage\r\n\r\n### Creando la factoria de objetos OpenERP\r\n\r\n```php\r\n<?php\r\n\t$open = new OpenERP();\t// read config => openerlib.inc.php\r\n?>\r\n```\r\n\r\n### Leyendo objetos por id de objeto.\r\n\r\n```php\r\n<?php\r\n\t// lee objecto res.partner con id 1 (solamente lee la propiedad 'id')\r\n\t$p = $open->res_partner->get(1);\r\n\tprint $p->id;\r\n\r\n\t// lee objecto res.partner con id 1 y algunas de sus propiedades\r\n\t$p = $open->res_partner('name', 'active')->get(1);\r\n\tprint $p->id;\r\n\tprint $p->name . \" \". $p->active;\r\n\t\r\n\t$p = $open->res_partner(array('name', 'active'))->get(1);\r\n\tprint $p->id;\r\n\tprint $p->name . \" \". $p->active;\r\n\t\r\n\t// lee objecto res.partner con id 1, todos sus propiedades\r\n\t$p = $open->res_partner('__ALL')->get(1);\r\n\tprint $p->id;\r\n\tprint $p->name . \" \". $p->ref . \" \" . $p->vat;\r\n?>\r\n```\r\n    \r\n### Navegando por objectos con many2one OpenERP\r\n\t\r\n```php\r\n<?php\r\n\t$p = $open->res_partner('country')->get(1);\r\n\tprint $p->id;\r\n\tprint $p->country->id;\t// many2one => res.country\r\n\tprint $p->country('name')->name;\r\n?>\r\n```\r\n\t\r\n### Navegando por objectos con one2many OpenERP\r\n\r\n```php\r\n<?php\r\n\t$p = $open->res_partner('departament_ids')->get(1);\r\n\tprint \"Departaments of \" . $p->id; \r\n\tforeach($p->departament_ids('name', 'address_id') as $d)\t// res.partner.departament\r\n\t\tprint $d->name . \" \" . $d->address_id->id;\r\n?>\r\n```\r\n\t\r\n### Búsquedas\r\n\r\n```php\r\n<?php\r\n\t$fields = array('street', 'email');\r\n\t$results = $open->res_partner_address($fields)->search('email', '=', 'foo@bar.com');\r\n\tforeach ($results as $id => $address) {\r\n\t\tprint \"<h1>\" . $id . \"</h1>\";\r\n\t\tprint \"<pre>\" . $address->info() . \"</pre>\";\r\n\t\tprint \"<hr>\";\r\n\t}\r\n?>\r\n```\r\n\r\n### Updates\r\n\r\n```php\r\n<?php\r\n\t$p = $open->res_partner('name', 'active')->get(1);\r\n\t$p->name = 'FOO';\r\n\t$p->save();\r\n?>\r\n```\r\n\r\n### Create\r\n\r\n```php\r\n<?php\r\n\t$crm = $open->crm_case;\r\n\t$crm->name = 'TEST';\r\n\t$crm->section_id = 10;\r\n\t$crm->email_from = 'foo@bar.com';\r\n\t$id = $crm->save();\r\n\tprint $id ? \"<h1>OK: \".$id.\"</h1>\" : \"<h1>ERROR</h1><pre>\". $crm->getError() . \"</pre>\";\r\n?>\r\n```\r\n\r\n\r\n### Ejecutar Métodos\r\n\r\n```php\r\n<?php\r\n\t$crm = $open->crm_case->get(39806);\r\n\t$r = $crm->workflow('case_open');\r\n\tprint \"<pre>\". print_r($r) . \"</pre>\";\r\n?>\r\n```\r\n\r\n## Contacts\r\n\r\nopenerplib is written by:\r\n\r\n* Benito Rodriguez - brarcos@gmail.com\r\n\r\nSugerencias, bugs,... https://github.com/b3ni/openerplib/issues","tagline":"XML-RPC php library for OpenERP inspired by Django","google":"UA-30544172-1","note":"Don't delete this file! It's used internally to help with page regeneration."}